- flash.each do |key, value|
  %div{:class => "#{flash_class(key)} closable"}
    %i.close.icon
    = value
.three.column.stackable.ui.grid
  .column
    %h2.ui.header
      Memberships
  .column.right.aligned
    = link_to new_membership_path do
      .ui.red.labeled.icon.button
        %i.user.icon
        Add Individual Membership
  .column.right.aligned
    = link_to new_membership_path(category: "Family") do
      .ui.blue.labeled.icon.button
        %i.users.icon
        Add Family Membership
%table.ui.table.segment
  %thead
    %tr
      %th Year
      %th Category
      %th Date Paid
      %th Expires
      %th Member Count
      %th Actions
  %tbody
    - @memberships.each do |ms|
      %tr{id: "#{ms.id}"}
        %td= ms.year
        %td= ms.category
        %td= ms.date_paid
        %td= ms.expires_on
        %td
          .list
            - if ms.primary_member.present?
              .item
                %i.large.user.icon
                #{ms.primary_member.name}
            - if ms.family_members.any?
              - ms.family_members.each do |member|
                .item
                  %i.small.user.icon
                  = member.name
        %td
